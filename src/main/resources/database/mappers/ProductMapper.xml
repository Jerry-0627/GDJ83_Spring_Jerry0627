<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.goodee.app.product.ProductDAO">
  
  	<select id="getList" resultType="ProductDTO" parameterType="com.goodee.app.util.Pager">
  		SELECT * FROM 
			(
				SELECT ROWNUM R, B.* FROM
				(
					SELECT * FROM PRODUCT_INFO
					ORDER BY PRODUCT_NUM DESC) B)
					WHERE R	BETWEEN #{startRow} AND #{lastRow}
  	</select>
  	
  	<select id="getTotalCount" resultType="java.lang.Long">
  		SELECT COUNT(PRODUCT_NUM) FROM PRODUCT_INFO
  	</select>

  	<select id="getDetail" resultType="ProductDTO" parameterType="ProductDTO">
  		SELECT * FROM PRODUCT_INFO WHERE PRODUCT_NUM = #{product_num}
  	</select>
  	
  	<insert id="add" parameterType="ProductDTO">
  		INSERT INTO PRODUCT_INFO VALUES (PRODUCT_SEQ.NEXTVAL,#{product_name},#{product_rate},#{product_ex})
  	</insert>
  	
  	<delete id="delete" parameterType="ProductDTO">
  		DELETE PRODUCT_INFO WHERE PRODUCT_NUM =#{product_num}
  	</delete>
  	
  	<update id="update" parameterType="ProductDTO">
  		UPDATE PRODUCT_INFO SET PRODUCT_NAME =#{product_name}, PRODUCT_RATE =#{product_rate}, PRODUCT_EX =#{product_ex}
  		WHERE PRODUCT_NUM = #{product_num}
  	</update>
  	
 
  </mapper>